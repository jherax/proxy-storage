!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.proxyStorage=t():e.proxyStorage=t()}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){!function(t,r){e.exports=r()}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=u.proxy[e],r="__proxy-storage__";try{return t.setItem(r,r),t.removeItem(r),!0}catch(e){return!1}}function i(e){return f[e]&&l.set(e),f[e]}function a(){f.localStorage=n("localStorage"),f.sessionStorage=n("sessionStorage"),f.cookieStorage=n("cookieStorage"),Object.keys(f).some(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.isAvaliable=t.configStorage=t.WebStorage=t.default=void 0;var u=r(1),s=o(u),c=null,f={localStorage:!1,sessionStorage:!1,cookieStorage:!1,memoryStorage:!0},l={get:function(){return c.__storage__},set:function(e){if(!u.proxy.hasOwnProperty(e))throw new Error('Storage type "'+e+'" is not valid');t.default=c=new s.default(e)}};a(),t.default=c,t.WebStorage=s.default,t.configStorage=l,t.isAvaliable=f},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var n=r.shift(),i=r.shift();return c[e].reduce(function(e,t){var o=t.apply(void 0,[n,e].concat(r));return void 0===o?e:o},i)}Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=t.default=void 0;var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),a=r(2),u=r(4),s={},c={setItem:[],getItem:[],removeItem:[],clear:[]},WebStorage=function(){function WebStorage(e){var t=this;if(o(this,WebStorage),!a.proxy.hasOwnProperty(e))throw new Error('Storage type "'+e+'" is not valid');return s[e]?s[e]:((0,u.setProperty)(this,"__storage__",e),Object.keys(a.proxy[e]).forEach(function(r){var o=a.proxy[e][r];try{t[r]=JSON.parse(o)}catch(e){t[r]=o}},this),void(s[e]=this))}return i(WebStorage,[{key:"setItem",value:function(e,t,r){(0,u.checkEmpty)(e);var o=n("setItem",e,t,r);void 0!==o&&(t=o),this[e]=t,t=JSON.stringify(t),a.proxy[this.__storage__].setItem(e,t,r)}},{key:"getItem",value:function(e){(0,u.checkEmpty)(e);var t=a.proxy[this.__storage__].getItem(e);t=void 0===t?null:JSON.parse(t);var r=n("getItem",e,t);return void 0!==r&&(t=r),t}},{key:"removeItem",value:function(e){(0,u.checkEmpty)(e),n("removeItem",e),delete this[e],a.proxy[this.__storage__].removeItem(e)}},{key:"clear",value:function(){var e=this;n("clear"),Object.keys(this).forEach(function(t){delete e[t]},this),a.proxy[this.__storage__].clear()}},{key:"length",get:function(){return Object.keys(this).length}}],[{key:"interceptors",value:function(e,t){e in c&&"function"==typeof t&&c[e].push(t)}}]),WebStorage}();t.default=WebStorage,t.proxy=a.proxy},function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function n(e){if(!e.initialize)return e;for(var t in e)"initialize"!==t&&(0,c.setProperty)(e,t);return e.initialize(),delete e.initialize,e}Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=void 0;var i=r(3),a=o(i),u=r(5),s=o(u),c=r(4);t.proxy={localStorage:window.localStorage,sessionStorage:window.sessionStorage,cookieStorage:n((0,a.default)()),memoryStorage:n((0,s.default)())}},function(e,t,r){"use strict";function o(e){var t=e instanceof Date?(0,a.setTimestamp)({date:e}):(0,a.setTimestamp)(e);return"; expires="+t.toUTCString()}function n(e){var t=this.toString();return 0===e.trim().indexOf(t)}function i(){var e={setItem:function(e,t,r){var n="",i=void 0;r=Object.assign({path:"/"},r),((0,a.isObject)(r.expires)||r.expires instanceof Date)&&(n=o(r.expires)),i=e+"="+encodeURIComponent(t)+n+"; path="+r.path,u.set(i)},getItem:function(e){var t=null,r=e+"=",o=u.get().split(";").find(n,r);return o&&(t=o.trim().substring(r.length,o.length),t=decodeURIComponent(t)),t},removeItem:function(t){e.setItem(t,"",{expires:{days:-1}})},clear:function(){var t="=",r=void 0,o=void 0;u.get().split(";").forEach(function(n){r=n.indexOf(t),r>-1&&(o=n.substring(0,r),e.removeItem(o.trim()))})},initialize:function(){u.get().split(";").forEach(function(t){var r=t.indexOf("="),o=t.substring(0,r).trim(),n=t.substring(r+1).trim();o&&(e[o]=decodeURIComponent(n))})}};return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(4),u={get:function(){return document.cookie},set:function(e){document.cookie=e}}},function(e,t){"use strict";function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e),r=t.date instanceof Date?t.date:new Date;return+t.hours&&r.setHours(r.getHours()+t.hours),+t.days&&r.setDate(r.getDate()+t.days),+t.months&&r.setMonth(r.getMonth()+t.months),+t.years&&r.setFullYear(r.getFullYear()+t.years),r}function n(e,t,r){var o={configurable:!1,enumerable:!1,writable:!1};"undefined"!=typeof r&&(o.value=r),Object.defineProperty(e,t,o)}function i(e){if(null==e||""===e)throw new Error("The key provided can not be empty")}Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=r,t.setTimestamp=o,t.setProperty=n,t.checkEmpty=i},function(e,t){"use strict";function r(){try{var e=JSON.parse(window.self.name);if(e&&"object"===("undefined"==typeof e?"undefined":i(e)))return e}catch(e){return{}}}function o(e){var t=JSON.stringify(e);window.self.name=t}function n(){var e=r(),t={setItem:function(t,r){e[t]=r,o(e)},getItem:function(t){var r=e[t];return void 0===r?null:r},removeItem:function(t){delete e[t],o(e)},clear:function(){Object.keys(e).forEach(function(t){return delete e[t]}),o(e)},initialize:function(){Object.assign(t,e)}};return t}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n}])})}])});
//# sourceMappingURL=proxy-storage.min.js.map