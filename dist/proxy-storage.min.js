!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.proxyStorage=t():e.proxyStorage=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){!function(t,o){e.exports=o()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=u.proxy[e],o="__proxy-storage__";try{return t.setItem(o,o),t.removeItem(o),!0}catch(e){return!1}}function i(e){return c.isAvailable[e]&&(u.webStorageSettings.default=e,f.set(e)),c.isAvailable[e]}function a(){c.isAvailable.localStorage=r("localStorage"),c.isAvailable.sessionStorage=r("sessionStorage"),c.isAvailable.cookieStorage=r("cookieStorage"),u.webStorageSettings.isAvailable=c.isAvailable,Object.keys(c.isAvailable).some(i)}Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=t.configStorage=t.WebStorage=t.default=void 0;var u=o(1),s=n(u),c=o(6),l=null,f={get:function(){return l.__storage__},set:function(e){if(!u.proxy.hasOwnProperty(e))throw new Error('Storage type "'+e+'" is not valid');t.default=l=new s.default(e)}};a(),t.default=l,t.WebStorage=s.default,t.configStorage=f,t.isAvailable=c.isAvailable},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){for(var t=arguments.length,o=Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var r=o.shift(),i=o.shift();return p[e].reduce(function(e,t){var n=t.apply(void 0,[r,e].concat(o));return void 0===n?e:n},i)}function i(e){var t=void 0;try{t=JSON.parse(e)}catch(o){t=e}return t}function a(e,t){Object.keys(t).forEach(function(o){e[o]=i(t[o])})}function u(e){return v.isAvailable[e]?e:(console.warn(e+" is not available. Falling back to "+v.default),v.default)}Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=t.webStorageSettings=t.default=void 0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(2),l=o(4),f=o(6),d={},p={setItem:[],getItem:[],removeItem:[],clear:[]},v={default:null,isAvailable:f.isAvailable},WebStorage=function(){function WebStorage(e){if(n(this,WebStorage),!c.proxy.hasOwnProperty(e))throw new Error('Storage type "'+e+'" is not valid');var t=c.proxy[e];e=u(e);var o=d[e];return o?(a(o,t),o):((0,l.setProperty)(this,"__storage__",e),a(this,t),void(d[e]=this))}return s(WebStorage,[{key:"setItem",value:function(e,t,o){(0,l.checkEmpty)(e);var n=r("setItem",e,t,o);void 0!==n&&(t=n),this[e]=t,t=JSON.stringify(t),c.proxy[this.__storage__].setItem(e,t,o)}},{key:"getItem",value:function(e){(0,l.checkEmpty)(e);var t=c.proxy[this.__storage__].getItem(e);void 0===t?(delete this[e],t=null):(t=i(t),this[e]=t);var o=r("getItem",e,t);return void 0!==o&&(t=o),t}},{key:"removeItem",value:function(e){(0,l.checkEmpty)(e),r("removeItem",e),delete this[e],c.proxy[this.__storage__].removeItem(e)}},{key:"clear",value:function(){var e=this;r("clear"),Object.keys(this).forEach(function(t){delete e[t]},this),c.proxy[this.__storage__].clear()}},{key:"length",get:function(){return Object.keys(this).length}}],[{key:"interceptors",value:function(e,t){e in p&&"function"==typeof t&&p[e].push(t)}}]),WebStorage}();t.default=WebStorage,t.webStorageSettings=v,t.proxy=c.proxy},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(!e.initialize)return e;for(var t in e)"initialize"!==t&&(0,c.setProperty)(e,t);return e.initialize(),delete e.initialize,e}Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=void 0;var i=o(3),a=n(i),u=o(5),s=n(u),c=o(4);t.proxy={localStorage:window.localStorage,sessionStorage:window.sessionStorage,cookieStorage:r((0,a.default)()),memoryStorage:r((0,s.default)())}},function(e,t,o){"use strict";function n(e){var t=e instanceof Date?(0,a.setTimestamp)({date:e}):(0,a.setTimestamp)(e);return"; expires="+t.toUTCString()}function r(e){var t=this.toString();return 0===e.trim().indexOf(t)}function i(){var e={setItem:function(e,t,o){var r="",i=void 0;o=Object.assign({path:"/"},o),((0,a.isObject)(o.expires)||o.expires instanceof Date)&&(r=n(o.expires)),i=e+"="+encodeURIComponent(t)+r+"; path="+o.path,u.set(i)},getItem:function(e){var t=null,o=e+"=",n=u.get().split(";").find(r,o);return n&&(t=n.trim().substring(o.length,n.length),t=decodeURIComponent(t)),t},removeItem:function(t){e.setItem(t,"",{expires:{days:-1}})},clear:function(){var t="=",o=void 0,n=void 0;u.get().split(";").forEach(function(r){o=r.indexOf(t),o>-1&&(n=r.substring(0,o),e.removeItem(n.trim()))})},initialize:function(){u.get().split(";").forEach(function(t){var o=t.indexOf("="),n=t.substring(0,o).trim(),r=t.substring(o+1).trim();n&&(e[n]=decodeURIComponent(r))})}};return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=o(4),u={get:function(){return document.cookie},set:function(e){document.cookie=e}}},function(e,t){"use strict";function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e),o=t.date instanceof Date?t.date:new Date;return+t.hours&&o.setHours(o.getHours()+t.hours),+t.days&&o.setDate(o.getDate()+t.days),+t.months&&o.setMonth(o.getMonth()+t.months),+t.years&&o.setFullYear(o.getFullYear()+t.years),o}function r(e,t,o){var n={configurable:!1,enumerable:!1,writable:!1};"undefined"!=typeof o&&(n.value=o),Object.defineProperty(e,t,n)}function i(e){if(null==e||""===e)throw new Error("The key provided can not be empty")}Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=o,t.setTimestamp=n,t.setProperty=r,t.checkEmpty=i},function(e,t){"use strict";function o(){try{var e=JSON.parse(window.self.name);if(e&&"object"===("undefined"==typeof e?"undefined":i(e)))return e}catch(e){return{}}}function n(e){var t=JSON.stringify(e);window.self.name=t}function r(){var e=o(),t={setItem:function(t,o){e[t]=o,n(e)},getItem:function(t){var o=e[t];return void 0===o?null:o},removeItem:function(t){delete e[t],n(e)},clear:function(){Object.keys(e).forEach(function(t){return delete e[t]}),n(e)},initialize:function(){Object.assign(t,e)}};return t}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isAvailable={localStorage:!1,sessionStorage:!1,cookieStorage:!1,memoryStorage:!0}}])})}])});
//# sourceMappingURL=proxy-storage.min.js.map