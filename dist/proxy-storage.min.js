!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.proxyStorage=t():e.proxyStorage=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(null==e||""===e)throw new Error("The key provided can not be empty")}function o(){var e={setItem:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",o="";if(n){var i=new Date;n=24*n*60*60*1e3,i.setTime(i.getTime()+n),o="; expires="+i.toUTCString()}w.set(e+"="+encodeURIComponent(t)+o+"; path="+r)},getItem:function(e){var t=null,n=e+"=",r=w.get().split(";").find(i,n);return r&&(t=r.trim().substring(n.length,r.length),t=decodeURIComponent(t)),t},removeItem:function(t){e.setItem(t,"",-1)},clear:function(){var t="=",n=void 0,r=void 0;w.get().split(";").forEach(function(o){n=o.indexOf(t),n>-1&&(r=o.substring(0,n),e.removeItem(r.trim()))})}};return e}function i(e){var t=this.toString();return 0===e.trim().indexOf(t)}function a(e){var t=this.toString();return e.key===t}function u(){var e=c(),t={setItem:function(t,n){var r=e.find(a,t);r?r.value=n:e.push({key:t,value:n}),s(e)},getItem:function(t){var n=e.find(a,t);return n?n.value:null},removeItem:function(t){var n=e.findIndex(a,t);n>-1&&e.splice(n,1),s(e)},clear:function(){e.length=0,s(e)}};return t}function c(){try{var e=JSON.parse(window.self.name);if(e instanceof Array)return e}catch(e){}return[]}function s(e){var t=JSON.stringify(e);window.self.name=t}function f(e){var t=v[e],n="__proxy-storage__";try{return t.setItem(n,n),t.removeItem(n),!0}catch(e){return!1}}function l(e){return p[e]&&h.set(e),p[e]}function g(){p.localStorage=f("localStorage"),p.sessionStorage=f("sessionStorage"),p.cookieStorage=f("cookieStorage"),Object.keys(p).some(l)}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v={localStorage:window.localStorage,sessionStorage:window.sessionStorage,cookieStorage:o(),memoryStorage:u()},d=function(){function e(t){if(n(this,e),!v.hasOwnProperty(t))throw new Error('Storage type "'+t+'" is not valid');Object.defineProperty(this,"__storage",{configurable:!1,enumerable:!1,writable:!1,value:v[t]})}return m(e,[{key:"setItem",value:function(e,t){r(e),t=JSON.stringify(t),this.__storage.setItem(e,t)}},{key:"getItem",value:function(e){r(e);var t=this.__storage.getItem(e);return JSON.parse(t)}},{key:"removeItem",value:function(e){r(e),this.__storage.removeItem(e)}},{key:"clear",value:function(){this.__storage.clear()}}]),e}(),p={localStorage:!1,sessionStorage:!1,cookieStorage:!1,memoryStorage:!0},y=null,S=null,h={get:function(){return S},set:function(e){if(!v.hasOwnProperty(e))throw new Error('Storage type "'+e+'" is not valid');t.default=y=new d(e),S=e}},w={get:function(){return document.cookie},set:function(e){document.cookie=e}};g(),t.default=y,t.WebStorage=d,t.configStorage=h,t.isAvaliable=p}])});