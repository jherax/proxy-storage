/*! proxyStorage@v2.2.0. Jherax 2017. Visit https://github.com/jherax/proxy-storage */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.proxyStorage=t():e.proxyStorage=t()}(this,function(){return function(e){function t(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,o){"use strict";function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e),o=t.date instanceof Date?t.date:new Date;return+t.minutes&&o.setMinutes(o.getMinutes()+t.minutes),+t.hours&&o.setHours(o.getHours()+t.hours),+t.days&&o.setDate(o.getDate()+t.days),+t.months&&o.setMonth(o.getMonth()+t.months),+t.years&&o.setFullYear(o.getFullYear()+t.years),o}function i(e,t,o){var r={configurable:!1,enumerable:!1,writable:!1};void 0!==o&&(r.value=o),Object.defineProperty(e,t,r)}function a(e){if(null==e||""===e)throw new Error("The key provided can not be empty")}Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=r,t.alterDate=n,t.setProperty=i,t.checkEmpty=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isAvailable={localStorage:!1,cookieStorage:!1,sessionStorage:!1,memoryStorage:!0}},function(e,t,o){"use strict";function r(e){var t=i.proxy[e],o="__proxy-storage__";try{t.setItem(o,o),t.removeItem(o)}catch(e){return!1}return!0}function n(e){return u.isAvailable[e]&&(i.webStorageSettings.default=e,c.set(e)),u.isAvailable[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.isAvailable=t.configStorage=t.WebStorage=t.default=void 0;var i=o(3),a=function(e){return e&&e.__esModule?e:{default:e}}(i),u=o(1),s=null,c={get:function(){return s.__storage__},set:function(e){t.default=s=new a.default(e)}};!function(){u.isAvailable.localStorage=r("localStorage"),u.isAvailable.cookieStorage=r("cookieStorage"),u.isAvailable.sessionStorage=r("sessionStorage"),i.webStorageSettings.isAvailable=u.isAvailable,Object.keys(u.isAvailable).some(n)}(),t.default=s,t.WebStorage=a.default,t.configStorage=c,t.isAvailable=u.isAvailable},function(e,t,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){for(var t=arguments.length,o=Array(t>1?t-1:0),r=1;r<t;r++)o[r-1]=arguments[r];var n=o.shift(),i=o.shift();return i&&"object"===(void 0===i?"undefined":c(i))&&(i=JSON.parse(JSON.stringify(i))),p[e].reduce(function(e,t){var r=t.apply(void 0,[n,e].concat(o));return null==r?e:r},i)}function i(e){var t=void 0;try{t=JSON.parse(e)}catch(o){t=e}return t}function a(e,t){Object.keys(t).forEach(function(o){e[o]=i(t[o])})}function u(e){if(g.isAvailable[e])return e;var t="sessionStorage"===e?"memoryStorage":g.default,o=e+" is not available. Falling back to "+t;return console.warn(o),t}Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=t.webStorageSettings=t.default=void 0;var s=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=o(4),f=o(0),d=o(1),y={},p={setItem:[],getItem:[],removeItem:[],clear:[]},v=/^(?:expires|max-age|path|domain|secure)$/i,g={default:null,isAvailable:d.isAvailable},WebStorage=function(){function WebStorage(e){if(r(this,WebStorage),!Object.prototype.hasOwnProperty.call(l.proxy,e))throw new Error('Storage type "'+e+'" is not valid');var t=l.proxy[e];e=u(e);var o=y[e];if(o)return a(o,t),o;(0,f.setProperty)(this,"__storage__",e),a(this,t),y[e]=this}return s(WebStorage,[{key:"setItem",value:function(e,t,o){(0,f.checkEmpty)(e);var r=this.__storage__;if("cookieStorage"===r&&v.test(e))throw new Error("The key is a reserved word, therefore not allowed");var i=n("setItem",e,t,o);void 0!==i&&(t=i),this[e]=t,"string"!=typeof t&&(t=JSON.stringify(t)),l.proxy[r].setItem(e,t,o),"cookieStorage"===r&&null===l.proxy[r].getItem(e)&&delete this[e]}},{key:"getItem",value:function(e){(0,f.checkEmpty)(e);var t=l.proxy[this.__storage__].getItem(e);null==t?(delete this[e],t=null):(t=i(t),this[e]=t);var o=n("getItem",e,t);return void 0!==o&&(t=o),t}},{key:"removeItem",value:function(e,t){(0,f.checkEmpty)(e),n("removeItem",e,t),delete this[e],l.proxy[this.__storage__].removeItem(e,t)}},{key:"clear",value:function(){var e=this;n("clear"),Object.keys(this).forEach(function(t){delete e[t]},this),l.proxy[this.__storage__].clear()}},{key:"length",get:function(){return Object.keys(this).length}}],[{key:"interceptors",value:function(e,t){e in p&&"function"==typeof t&&p[e].push(t)}}]),WebStorage}();t.default=WebStorage,t.webStorageSettings=g,t.proxy=l.proxy},function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){if(!e.initialize)return e;for(var t in e)"initialize"!==t&&(0,c.setProperty)(e,t);return e.initialize(),e}Object.defineProperty(t,"__esModule",{value:!0}),t.proxy=void 0;var i=o(5),a=r(i),u=o(6),s=r(u),c=o(0);t.proxy={localStorage:window.localStorage,sessionStorage:window.sessionStorage,cookieStorage:n((0,a.default)()),memoryStorage:n((0,s.default)())}},function(e,t,o){"use strict";function r(e){return(e instanceof Date?(0,s.alterDate)({date:e}):(0,s.alterDate)(e)).toUTCString()}function n(e,t){return t[e]?";"+e+"="+t[e]:""}function i(e){return""+n("expires",e)+n("domain",e)+n("path",e)+(e.secure?";secure":"")}function a(e){var t=this.toString();return 0===e.trim().indexOf(t)}function u(){var e={setItem:function(e,t,o){o=Object.assign({path:"/"},o),c.data[e]={path:o.path};var n=c.data[e];((0,s.isObject)(o.expires)||o.expires instanceof Date)&&(n.expires=r(o.expires)),o.domain&&"string"==typeof o.domain&&(n.domain=o.domain.trim()),!0===o.secure&&(n.secure=!0);var a=e+"="+encodeURIComponent(t)+i(n);c.set(a)},getItem:function(e){var t=null,o=e+"=",r=c.get().split(";").find(a,o);return r&&(t=r.trim().substring(o.length,r.length),t=decodeURIComponent(t)),null===t&&delete c.data[e],t},removeItem:function(t,o){var r=Object.assign({},c.data[t],o);r.expires={days:-1},e.setItem(t,"",r),delete c.data[t]},clear:function(){var t=void 0,o=void 0;c.get().split(";").forEach(function(r){(o=r.indexOf("="))>-1&&(t=r.substring(0,o),e.removeItem(t.trim()))})},initialize:function(){c.get().split(";").forEach(function(t){var o=t.indexOf("="),r=t.substring(0,o).trim(),n=t.substring(o+1).trim();r&&(e[r]=decodeURIComponent(n))}),delete e.initialize}};return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var s=o(0),c={get:function(){return document.cookie},set:function(e){document.cookie=e},data:{}}},function(e,t,o){"use strict";function r(){try{var e=JSON.parse(window.self.name);if(e&&"object"===(void 0===e?"undefined":a(e)))return e}catch(e){return{}}}function n(e){var t=JSON.stringify(e);window.self.name=t}function i(){var e=r(),t={setItem:function(t,o){e[t]=o,n(e)},getItem:function(t){var o=e[t];return void 0===o?null:o},removeItem:function(t){delete e[t],n(e)},clear:function(){Object.keys(e).forEach(function(t){return delete e[t]}),n(e)},initialize:function(){Object.assign(t,e),delete t.initialize}};return t}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i}])});
//# sourceMappingURL=proxy-storage.min.map