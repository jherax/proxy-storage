{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///proxy-storage.min.js","webpack:///webpack/bootstrap 3f70ba7e821c7797d5d4","webpack:///./src/proxy-storage.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","checkEmpty","key","Error","cookieStorage","api","setItem","value","days","path","arguments","length","undefined","expires","date","Date","setTime","getTime","toUTCString","$cookie","set","encodeURIComponent","getItem","nameEQ","cookie","get","split","find","findCookie","trim","substring","decodeURIComponent","removeItem","clear","eq","indexEQ","forEach","indexOf","toString","findItem","item","memoryStorage","hashtable","getStoreFromWindow","push","setStoreToWindow","index","findIndex","splice","store","JSON","parse","window","self","name","Array","e","stringify","isStorageAvailable","storageType","storageObj","proxy","data","storageAvaliable","isAvaliable","configStorage","init","localStorage","sessionStorage","Object","keys","some","defineProperty","_createClass","defineProperties","target","props","i","descriptor","enumerable","configurable","writable","protoProps","staticProps","prototype","WebStorage","hasOwnProperty","__storage","storage","currentStorageName","default","document"],"mappings":"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","file":"proxy-storage.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"proxyStorage\"] = factory();\n\telse\n\t\troot[\"proxyStorage\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"proxyStorage\"] = factory();\n\telse\n\t\troot[\"proxyStorage\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/* eslint-disable no-use-before-define, no-invalid-this */\n\t\n\t/**\n\t * This library uses an adapter that implements the Web Storage interface,\n\t * which is very useful to deal with the lack of compatibility between\n\t * document.cookie and localStorage and sessionStorage.\n\t *\n\t * It also provides a memoryStorage fallback that stores the data in memory\n\t * when all of above mechanisms are not available.\n\t *\n\t * Author: David Rivera\n\t * Github: https://github.com/jherax\n\t * License: \"MIT\"\n\t *\n\t * You can fork this project on github:\n\t * https://github.com/jherax/proxy-storage.git\n\t */\n\t\n\t// If you want to support all ES6 features, uncomment the next line\n\t// import 'babel-polyfill';\n\t\n\t/**\n\t * @private\n\t *\n\t * Proxy for Web Storage and Cookies.\n\t * All members implement the Web Storage interface.\n\t *\n\t * @Reference\n\t * https://developer.mozilla.org/en-US/docs/Web/API/Storage\n\t *\n\t * @type {object}\n\t */\n\tvar proxy = {\n\t  localStorage: window.localStorage,\n\t  sessionStorage: window.sessionStorage,\n\t  cookieStorage: cookieStorage(),\n\t  memoryStorage: memoryStorage()\n\t};\n\t\n\t/**\n\t * @private\n\t *\n\t * Validates if the key is not empty.\n\t * (null, undefined or empty string)\n\t * @param  {string} key: keyname of the storage\n\t * @return {void}\n\t */\n\tfunction checkEmpty(key) {\n\t  if (key == null || key === '') {\n\t    throw new Error('The key provided can not be empty');\n\t  }\n\t}\n\t\n\t/**\n\t * @public\n\t *\n\t * Implementation of the Web Storage interface.\n\t * It saves and retrieves values as JSON.\n\t *\n\t * @Reference\n\t * https://developer.mozilla.org/en-US/docs/Web/API/Storage\n\t *\n\t * @type {Class}\n\t */\n\t\n\tvar WebStorage = function () {\n\t  /**\n\t   * Creates an instance of WebStorage.\n\t   *\n\t   * @param {string} storageType: it can be \"localStorage\", \"sessionStorage\", \"cookieStorage\", or \"memoryStorage\"\n\t   *\n\t   * @memberOf WebStorage\n\t   */\n\t  function WebStorage(storageType) {\n\t    _classCallCheck(this, WebStorage);\n\t\n\t    if (!proxy.hasOwnProperty(storageType)) {\n\t      throw new Error('Storage type \"' + storageType + '\" is not valid');\n\t    }\n\t    Object.defineProperty(this, '__storage', {\n\t      configurable: false,\n\t      enumerable: false,\n\t      writable: false,\n\t      value: proxy[storageType]\n\t    });\n\t  }\n\t  /**\n\t   * Stores a value given a key name.\n\t   *\n\t   * @param  {string} key: keyname of the storage\n\t   * @param  {any} value: data to save in the storage\n\t   * @return {void}\n\t   *\n\t   * @memberOf WebStorage\n\t   */\n\t\n\t\n\t  _createClass(WebStorage, [{\n\t    key: 'setItem',\n\t    value: function setItem(key, value) {\n\t      checkEmpty(key);\n\t      value = JSON.stringify(value);\n\t      this.__storage.setItem(key, value);\n\t    }\n\t    /**\n\t     * Retrieves a value by its key name.\n\t     *\n\t     * @param  {string} key: keyname of the storage\n\t     * @return {void}\n\t     *\n\t     * @memberOf WebStorage\n\t     */\n\t\n\t  }, {\n\t    key: 'getItem',\n\t    value: function getItem(key) {\n\t      checkEmpty(key);\n\t      var value = this.__storage.getItem(key);\n\t      return JSON.parse(value);\n\t    }\n\t    /**\n\t     * Deletes a key from the storage.\n\t     *\n\t     * @param  {string} key: keyname of the storage\n\t     * @return {void}\n\t     *\n\t     * @memberOf WebStorage\n\t     */\n\t\n\t  }, {\n\t    key: 'removeItem',\n\t    value: function removeItem(key) {\n\t      checkEmpty(key);\n\t      this.__storage.removeItem(key);\n\t    }\n\t    /**\n\t     * Removes all keys from the storage.\n\t     *\n\t     * @return {void}\n\t     *\n\t     * @memberOf WebStorage\n\t     */\n\t\n\t  }, {\n\t    key: 'clear',\n\t    value: function clear() {\n\t      this.__storage.clear();\n\t    }\n\t  }]);\n\t\n\t  return WebStorage;\n\t}();\n\t\n\t/**\n\t * @public\n\t *\n\t * Determines which storage mechanisms are available.\n\t *\n\t * @type {object}\n\t */\n\t\n\t\n\tvar isAvaliable = {\n\t  localStorage: false,\n\t  sessionStorage: false,\n\t  cookieStorage: false,\n\t  memoryStorage: true\n\t};\n\t\n\t/**\n\t * @public\n\t *\n\t * Current storage mechanism.\n\t * @type {object}\n\t */\n\tvar storage = null;\n\t\n\t/**\n\t * @private\n\t *\n\t * Current storage type\n\t * @type {string}\n\t */\n\tvar currentStorageName = null;\n\t\n\t/**\n\t * @public\n\t *\n\t * Get/Set the storage mechanism to use by default.\n\t * @type {object}\n\t */\n\tvar configStorage = {\n\t  get: function get() {\n\t    return currentStorageName;\n\t  },\n\t\n\t\n\t  /**\n\t   * Sets the storage mechanism to use by default.\n\t   * @param  {string} storageType: it can be \"localStorage\", \"sessionStorage\", \"cookieStorage\", or \"memoryStorage\"\n\t   * @return {void}\n\t   */\n\t  set: function set(storageType) {\n\t    if (!proxy.hasOwnProperty(storageType)) {\n\t      throw new Error('Storage type \"' + storageType + '\" is not valid');\n\t    }\n\t    exports.default = storage = new WebStorage(storageType);\n\t    currentStorageName = storageType;\n\t  }\n\t};\n\t\n\t/**\n\t * @private\n\t *\n\t * Alias for the default cookie storage associated with the current document.\n\t *\n\t * @Reference\n\t * https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie\n\t *\n\t * @type {object}\n\t */\n\tvar $cookie = {\n\t  get: function get() {\n\t    return document.cookie;\n\t  },\n\t  set: function set(value) {\n\t    document.cookie = value;\n\t  }\n\t};\n\t\n\t/**\n\t * @private\n\t *\n\t * Manages actions for creation/reading/deleting cookies.\n\t * Implements Web Storage interface methods.\n\t *\n\t * @return {object}\n\t */\n\tfunction cookieStorage() {\n\t  var api = {\n\t    setItem: function setItem(key, value, days) {\n\t      var path = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '/';\n\t\n\t      var expires = '';\n\t      if (days) {\n\t        var date = new Date();\n\t        days = days * 24 * 60 * 60 * 1000;\n\t        date.setTime(date.getTime() + days);\n\t        expires = '; expires=' + date.toUTCString();\n\t      }\n\t      $cookie.set(key + '=' + encodeURIComponent(value) + expires + '; path=' + path);\n\t    },\n\t    getItem: function getItem(key) {\n\t      var value = null;\n\t      var nameEQ = key + '=';\n\t      var cookie = $cookie.get().split(';').find(findCookie, nameEQ);\n\t      if (cookie) {\n\t        // prevent leading spaces before the key name\n\t        value = cookie.trim().substring(nameEQ.length, cookie.length);\n\t        value = decodeURIComponent(value);\n\t      }\n\t      return value;\n\t    },\n\t    removeItem: function removeItem(key) {\n\t      api.setItem(key, '', -1);\n\t    },\n\t    clear: function clear() {\n\t      var eq = '=';\n\t      var indexEQ = void 0,\n\t          key = void 0;\n\t      $cookie.get().split(';').forEach(function (cookie) {\n\t        indexEQ = cookie.indexOf(eq);\n\t        if (indexEQ > -1) {\n\t          key = cookie.substring(0, indexEQ);\n\t          // prevent leading spaces before the key\n\t          api.removeItem(key.trim());\n\t        }\n\t      });\n\t    }\n\t  };\n\t  return api;\n\t}\n\t\n\t/**\n\t * @private\n\t *\n\t * Callback that finds an element in the array.\n\t * @param  {string} cookie: key=value\n\t * @return {boolean}\n\t */\n\tfunction findCookie(cookie) {\n\t  var nameEQ = this.toString();\n\t  // prevent leading spaces before the key\n\t  return cookie.trim().indexOf(nameEQ) === 0;\n\t}\n\t\n\t/**\n\t * @private\n\t *\n\t * Callback that finds an element in the array.\n\t * @param  {object} item: {key, value}\n\t * @return {boolean}\n\t */\n\tfunction findItem(item) {\n\t  var key = this.toString();\n\t  return item.key === key;\n\t}\n\t\n\t/**\n\t * @private\n\t *\n\t * Manages actions for creation/reading/deleting data in memory.\n\t * Implements Web Storage interface methods.\n\t * It also adds a hack to persist the store as a session in the current window.\n\t *\n\t * @return {object}\n\t */\n\tfunction memoryStorage() {\n\t  var hashtable = getStoreFromWindow();\n\t  var api = {\n\t    setItem: function setItem(key, value) {\n\t      var item = hashtable.find(findItem, key);\n\t      if (item) item.value = value;else hashtable.push({ key: key, value: value });\n\t      setStoreToWindow(hashtable);\n\t    },\n\t    getItem: function getItem(key) {\n\t      var item = hashtable.find(findItem, key);\n\t      if (item) return item.value;\n\t      return null;\n\t    },\n\t    removeItem: function removeItem(key) {\n\t      var index = hashtable.findIndex(findItem, key);\n\t      if (index > -1) hashtable.splice(index, 1);\n\t      setStoreToWindow(hashtable);\n\t    },\n\t    clear: function clear() {\n\t      hashtable.length = 0;\n\t      setStoreToWindow(hashtable);\n\t    }\n\t  };\n\t  return api;\n\t}\n\t\n\t/**\n\t * @private\n\t *\n\t * Gets the hashtable store from the current window.\n\t * @return {array}\n\t */\n\tfunction getStoreFromWindow() {\n\t  try {\n\t    var store = JSON.parse(window.self.name);\n\t    if (store instanceof Array) return store;\n\t  } catch (e) {} // eslint-disable-line\n\t  return []; /* {key,value} */\n\t}\n\t\n\t/**\n\t * @private\n\t *\n\t * Saves the hashtable store in the current window.\n\t * @param  {array} hashtable: list of objects stored in memoryStorage\n\t * @return {void}\n\t */\n\tfunction setStoreToWindow(hashtable) {\n\t  var store = JSON.stringify(hashtable);\n\t  window.self.name = store;\n\t}\n\t\n\t/**\n\t * @private\n\t *\n\t * Checks whether a storage mechanism is available.\n\t * @param  {string} storageType: it can be \"localStorage\", \"sessionStorage\", \"cookieStorage\", or \"memoryStorage\"\n\t * @return {boolean}\n\t */\n\tfunction isStorageAvailable(storageType) {\n\t  var storageObj = proxy[storageType];\n\t  var data = '__proxy-storage__';\n\t  try {\n\t    storageObj.setItem(data, data);\n\t    storageObj.removeItem(data);\n\t    return true;\n\t  } catch (e) {\n\t    return false;\n\t  }\n\t}\n\t\n\t/**\n\t * @private\n\t *\n\t * Sets the default storage mechanism available.\n\t * @param  {string} storageType: it can be \"localStorage\", \"sessionStorage\", \"cookieStorage\", or \"memoryStorage\"\n\t * @return {boolean}\n\t */\n\tfunction storageAvaliable(storageType) {\n\t  if (isAvaliable[storageType]) {\n\t    configStorage.set(storageType);\n\t  }\n\t  return isAvaliable[storageType];\n\t}\n\t\n\t/**\n\t * @private\n\t *\n\t * Initializes the module.\n\t * @return {void}\n\t */\n\tfunction init() {\n\t  isAvaliable.localStorage = isStorageAvailable('localStorage');\n\t  isAvaliable.sessionStorage = isStorageAvailable('sessionStorage');\n\t  isAvaliable.cookieStorage = isStorageAvailable('cookieStorage');\n\t  // sets the default storage mechanism available\n\t  Object.keys(isAvaliable).some(storageAvaliable);\n\t}\n\t\n\tinit();\n\t\n\t// @public API\n\texports.default = storage;\n\texports.WebStorage = WebStorage;\n\texports.configStorage = configStorage;\n\texports.isAvaliable = isAvaliable;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// proxy-storage.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3f70ba7e821c7797d5d4","/* eslint-disable no-use-before-define, no-invalid-this */\n\n/**\n * This library uses an adapter that implements the Web Storage interface,\n * which is very useful to deal with the lack of compatibility between\n * document.cookie and localStorage and sessionStorage.\n *\n * It also provides a memoryStorage fallback that stores the data in memory\n * when all of above mechanisms are not available.\n *\n * Author: David Rivera\n * Github: https://github.com/jherax\n * License: \"MIT\"\n *\n * You can fork this project on github:\n * https://github.com/jherax/proxy-storage.git\n */\n\n// If you want to support all ES6 features, uncomment the next line\n// import 'babel-polyfill';\n\n/**\n * @private\n *\n * Proxy for Web Storage and Cookies.\n * All members implement the Web Storage interface.\n *\n * @Reference\n * https://developer.mozilla.org/en-US/docs/Web/API/Storage\n *\n * @type {object}\n */\nconst proxy = {\n  localStorage: window.localStorage,\n  sessionStorage: window.sessionStorage,\n  cookieStorage: cookieStorage(),\n  memoryStorage: memoryStorage(),\n};\n\n/**\n * @private\n *\n * Validates if the key is not empty.\n * (null, undefined or empty string)\n * @param  {string} key: keyname of the storage\n * @return {void}\n */\nfunction checkEmpty(key) {\n  if (key == null || key === '') {\n    throw new Error('The key provided can not be empty');\n  }\n}\n\n/**\n * @public\n *\n * Implementation of the Web Storage interface.\n * It saves and retrieves values as JSON.\n *\n * @Reference\n * https://developer.mozilla.org/en-US/docs/Web/API/Storage\n *\n * @type {Class}\n */\nclass WebStorage {\n  /**\n   * Creates an instance of WebStorage.\n   *\n   * @param {string} storageType: it can be \"localStorage\", \"sessionStorage\", \"cookieStorage\", or \"memoryStorage\"\n   *\n   * @memberOf WebStorage\n   */\n  constructor(storageType) {\n    if (!proxy.hasOwnProperty(storageType)) {\n      throw new Error(`Storage type \"${storageType}\" is not valid`);\n    }\n    Object.defineProperty(this, '__storage', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: proxy[storageType],\n    });\n  }\n  /**\n   * Stores a value given a key name.\n   *\n   * @param  {string} key: keyname of the storage\n   * @param  {any} value: data to save in the storage\n   * @return {void}\n   *\n   * @memberOf WebStorage\n   */\n  setItem(key, value) {\n    checkEmpty(key);\n    value = JSON.stringify(value);\n    this.__storage.setItem(key, value);\n  }\n  /**\n   * Retrieves a value by its key name.\n   *\n   * @param  {string} key: keyname of the storage\n   * @return {void}\n   *\n   * @memberOf WebStorage\n   */\n  getItem(key) {\n    checkEmpty(key);\n    const value = this.__storage.getItem(key);\n    return JSON.parse(value);\n  }\n  /**\n   * Deletes a key from the storage.\n   *\n   * @param  {string} key: keyname of the storage\n   * @return {void}\n   *\n   * @memberOf WebStorage\n   */\n  removeItem(key) {\n    checkEmpty(key);\n    this.__storage.removeItem(key);\n  }\n  /**\n   * Removes all keys from the storage.\n   *\n   * @return {void}\n   *\n   * @memberOf WebStorage\n   */\n  clear() {\n    this.__storage.clear();\n  }\n}\n\n/**\n * @public\n *\n * Determines which storage mechanisms are available.\n *\n * @type {object}\n */\nconst isAvaliable = {\n  localStorage: false,\n  sessionStorage: false,\n  cookieStorage: false,\n  memoryStorage: true,\n};\n\n/**\n * @public\n *\n * Current storage mechanism.\n * @type {object}\n */\nlet storage = null;\n\n/**\n * @private\n *\n * Current storage type\n * @type {string}\n */\nlet currentStorageName = null;\n\n/**\n * @public\n *\n * Get/Set the storage mechanism to use by default.\n * @type {object}\n */\nconst configStorage = {\n  get() {\n    return currentStorageName;\n  },\n\n  /**\n   * Sets the storage mechanism to use by default.\n   * @param  {string} storageType: it can be \"localStorage\", \"sessionStorage\", \"cookieStorage\", or \"memoryStorage\"\n   * @return {void}\n   */\n  set(storageType) {\n    if (!proxy.hasOwnProperty(storageType)) {\n      throw new Error(`Storage type \"${storageType}\" is not valid`);\n    }\n    storage = new WebStorage(storageType);\n    currentStorageName = storageType;\n  },\n};\n\n/**\n * @private\n *\n * Alias for the default cookie storage associated with the current document.\n *\n * @Reference\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie\n *\n * @type {object}\n */\nconst $cookie = {\n  get: () => document.cookie,\n  set: (value) => {\n    document.cookie = value;\n  },\n};\n\n/**\n * @private\n *\n * Manages actions for creation/reading/deleting cookies.\n * Implements Web Storage interface methods.\n *\n * @return {object}\n */\nfunction cookieStorage() {\n  const api = {\n    setItem(key, value, days, path = '/') {\n      let expires = '';\n      if (days) {\n        const date = new Date();\n        days = days * 24 * 60 * 60 * 1000;\n        date.setTime(date.getTime() + days);\n        expires = `; expires=${date.toUTCString()}`;\n      }\n      $cookie.set(`${key}=${encodeURIComponent(value)}${expires}; path=${path}`);\n    },\n\n    getItem(key) {\n      let value = null;\n      const nameEQ = `${key}=`;\n      const cookie = $cookie.get().split(';').find(findCookie, nameEQ);\n      if (cookie) {\n        // prevent leading spaces before the key name\n        value = cookie.trim().substring(nameEQ.length, cookie.length);\n        value = decodeURIComponent(value);\n      }\n      return value;\n    },\n\n    removeItem(key) {\n      api.setItem(key, '', -1);\n    },\n\n    clear() {\n      const eq = '=';\n      let indexEQ, key;\n      $cookie.get().split(';').forEach((cookie) => {\n        indexEQ = cookie.indexOf(eq);\n        if (indexEQ > -1) {\n          key = cookie.substring(0, indexEQ);\n          // prevent leading spaces before the key\n          api.removeItem(key.trim());\n        }\n      });\n    },\n  };\n  return api;\n}\n\n/**\n * @private\n *\n * Callback that finds an element in the array.\n * @param  {string} cookie: key=value\n * @return {boolean}\n */\nfunction findCookie(cookie) {\n  const nameEQ = this.toString();\n  // prevent leading spaces before the key\n  return cookie.trim().indexOf(nameEQ) === 0;\n}\n\n/**\n * @private\n *\n * Callback that finds an element in the array.\n * @param  {object} item: {key, value}\n * @return {boolean}\n */\nfunction findItem(item) {\n  const key = this.toString();\n  return item.key === key;\n}\n\n/**\n * @private\n *\n * Manages actions for creation/reading/deleting data in memory.\n * Implements Web Storage interface methods.\n * It also adds a hack to persist the store as a session in the current window.\n *\n * @return {object}\n */\nfunction memoryStorage() {\n  const hashtable = getStoreFromWindow();\n  const api = {\n    setItem(key, value) {\n      const item = hashtable.find(findItem, key);\n      if (item) item.value = value;\n      else hashtable.push({key, value});\n      setStoreToWindow(hashtable);\n    },\n    getItem(key) {\n      const item = hashtable.find(findItem, key);\n      if (item) return item.value;\n      return null;\n    },\n    removeItem(key) {\n      const index = hashtable.findIndex(findItem, key);\n      if (index > -1) hashtable.splice(index, 1);\n      setStoreToWindow(hashtable);\n    },\n    clear() {\n      hashtable.length = 0;\n      setStoreToWindow(hashtable);\n    },\n  };\n  return api;\n}\n\n/**\n * @private\n *\n * Gets the hashtable store from the current window.\n * @return {array}\n */\nfunction getStoreFromWindow() {\n  try {\n    const store = JSON.parse(window.self.name);\n    if (store instanceof Array) return store;\n  } catch (e) {} // eslint-disable-line\n  return []; /* {key,value} */\n}\n\n/**\n * @private\n *\n * Saves the hashtable store in the current window.\n * @param  {array} hashtable: list of objects stored in memoryStorage\n * @return {void}\n */\nfunction setStoreToWindow(hashtable) {\n  const store = JSON.stringify(hashtable);\n  window.self.name = store;\n}\n\n/**\n * @private\n *\n * Checks whether a storage mechanism is available.\n * @param  {string} storageType: it can be \"localStorage\", \"sessionStorage\", \"cookieStorage\", or \"memoryStorage\"\n * @return {boolean}\n */\nfunction isStorageAvailable(storageType) {\n  const storageObj = proxy[storageType];\n  const data = '__proxy-storage__';\n  try {\n    storageObj.setItem(data, data);\n    storageObj.removeItem(data);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * @private\n *\n * Sets the default storage mechanism available.\n * @param  {string} storageType: it can be \"localStorage\", \"sessionStorage\", \"cookieStorage\", or \"memoryStorage\"\n * @return {boolean}\n */\nfunction storageAvaliable(storageType) {\n  if (isAvaliable[storageType]) {\n    configStorage.set(storageType);\n  }\n  return isAvaliable[storageType];\n}\n\n/**\n * @private\n *\n * Initializes the module.\n * @return {void}\n */\nfunction init() {\n  isAvaliable.localStorage = isStorageAvailable('localStorage');\n  isAvaliable.sessionStorage = isStorageAvailable('sessionStorage');\n  isAvaliable.cookieStorage = isStorageAvailable('cookieStorage');\n  // sets the default storage mechanism available\n  Object.keys(isAvaliable).some(storageAvaliable);\n}\n\ninit();\n\n// @public API\nexport {storage as default, WebStorage, configStorage, isAvaliable};\n\n\n\n// WEBPACK FOOTER //\n// ./src/proxy-storage.js"],"sourceRoot":""}